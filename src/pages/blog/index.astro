---
import { GLOBAL } from "../../lib/variables";
import Layout from "../../layouts/Layout.astro";
import ArticleSnippet from "../../components/ArticleSnippet.astro";
import Section from "../../components/common/Section.astro";
import { articles } from "../../lib/list";
---

<Layout>
  <Fragment slot="head">
    <title>{GLOBAL.blogTitle} • {GLOBAL.username}</title>
    <meta name="description" content={GLOBAL.blogLongDescription} />
    <meta
      property="og:title"
      content={`${GLOBAL.blogTitle} • ${GLOBAL.username}`}
    />
    <meta property="og:description" content={GLOBAL.blogShortDescription} />
    <meta
      property="og:image"
      content={`${GLOBAL.rootUrl}/${GLOBAL.profileImage}`}
    />
    <meta property="og:url" content={`${GLOBAL.rootUrl}/blog`} />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content={`${GLOBAL.blogTitle} • ${GLOBAL.username}`}
    />
    <meta name="twitter:description" content={GLOBAL.blogShortDescription} />
    <meta
      name="twitter:image"
      content={`${GLOBAL.rootUrl}/${GLOBAL.profileImage}`}
    />
    <meta http-equiv="content-language" content="en" />
    <meta name="language" content="English" />
    <link rel="canonical" href={`${GLOBAL.rootUrl}/blog`} />
  </Fragment>

  <div class="grid-overlay min-h-screen py-16">
    <Section class="max-w-5xl mx-auto">
      <!-- Header with vertical label -->
      <div class="relative mb-16 px-4">
        <span class="absolute left-0 top-0 label-rotated opacity-40">
          ALL POSTS
        </span>
        <h1 class="text-6xl md:text-7xl font-bold pl-8 md:pl-12">
          {GLOBAL.articlesName}
        </h1>
      </div>

      <!-- Article list with alternating styles -->
      <ul class="space-y-6 px-4">
        {
          articles.map((article, index) => (
            <li class={`
              ${index % 2 === 0
                ? 'border-l-brutal-thick border-sage'
                : 'border-r-brutal border-black bg-sage-bg'
              }
            `}>
              <div class={index % 2 === 0 ? 'pl-6' : 'pr-6'}>
                <ArticleSnippet
                  title={article.title}
                  description={article.description}
                  duration={`${article.time} min`}
                  url={article.filename}
                  timestamp={article.timestamp}
                />
              </div>
            </li>
          ))
        }
      </ul>
    </Section>
  </div>
</Layout>
